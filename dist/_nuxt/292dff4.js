(window.webpackJsonp=window.webpackJsonp||[]).push([[1,8,10,13],{1073:function(e,t,o){"use strict";o(791)},1074:function(e,t,o){var r=o(63)((function(i){return i[1]}));r.push([e.i,".card-title{overflow:hidden;text-overflow:ellipsis!important}.font-awesome-custom{color:#17a2b8;font-size:2rem}.btn:focus{box-shadow:none;outline:none}",""]),r.locals={},e.exports=r},577:function(e,t,o){var content=o(583);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(64).default)("9bfd0708",content,!0,{sourceMap:!1})},578:function(e,t,o){"use strict";o.r(t);var r={components:{CubeShadow:o(595).a}},n=(o(587),o(35)),component=Object(n.a)(r,(function(){return(0,this._self._c)("CubeShadow",{staticClass:"mx-auto",attrs:{color:"#17a2b8"}})}),[],!1,null,"1b6dfe3d",null);t.default=component.exports},579:function(e,t,o){"use strict";o.r(t);var r={props:{title:{default:"",type:String},subtitle:{default:null,type:String}}},n=(o(582),o(35)),component=Object(n.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"section_padding hero_title_section"},[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"text-center tr-bg"},[t("b-col",{staticClass:"header-div"},[t("h3",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"title"}]},[e._v(e._s(e.title.toUpperCase()))]),e._v(" "),t("span"),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:e.subtitle,expression:"subtitle"}]},[e._v(e._s(e.subtitle))])])],1)],1)],1)}),[],!1,null,"34911b7e",null);t.default=component.exports},580:function(e,t,o){var content=o(588);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(64).default)("0e6929ba",content,!0,{sourceMap:!1})},581:function(e,t,o){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},582:function(e,t,o){"use strict";o(577)},583:function(e,t,o){var r=o(63),n=o(581),l=o(584),c=o(585),d=r((function(i){return i[1]})),v=n(l),f=n(c);d.push([e.i,".hero_title_section[data-v-34911b7e]{background-attachment:fixed;background-color:#333;background-image:url("+v+");background-position:bottom;background-size:cover;position:relative}body.dark-mode .hero_title_section[data-v-34911b7e]{background-image:url("+f+')}.hero_title_section[data-v-34911b7e]:before{background:#000;content:"";height:100%;left:0;opacity:.6;position:absolute;top:0;width:100%}.hero_title_section[data-v-34911b7e]{color:#fff;font-size:30px;padding:150px 0 100px;text-transform:uppercase}.hero_title_section h3[data-v-34911b7e]{font-size:50px;line-height:50px;margin:0}.hero_title_section span[data-v-34911b7e]{background:#17a2b8;border-radius:3px;display:inline-block;height:5px;margin:0 0 10px;width:45%}.hero_title_section p[data-v-34911b7e]{margin:0}.section_padding[data-v-34911b7e]{padding:150px 0 100px}',""]),d.locals={},e.exports=d},584:function(e,t,o){e.exports=o.p+"img/pencil.135d51e.jpg"},585:function(e,t,o){e.exports=o.p+"img/dark-bg4.406e3d0.jpg"},587:function(e,t,o){"use strict";o(580)},588:function(e,t,o){var r=o(63)((function(i){return i[1]}));r.push([e.i,".spinner.spinner--cube-shadow[data-v-1b6dfe3d]{background-color:#17a2b8!important}",""]),r.locals={},e.exports=r},591:function(e,t,o){var content=o(599);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(64).default)("917224be",content,!0,{sourceMap:!1})},596:function(e,t,o){"use strict";o.r(t);o(1),o(307),o(94);var r=o(578),n=o(198),l={layout:"content",middleware:"auth",beforeRouteEnter:function(e,t,o){o((function(e){console.log("router guard",t),o()}))},data:function(){return{deviceResponse:null,fingerprint:null,isInSavedDevice:!1,isInAsyncCall:!1}},components:{Loading:r.default},mounted:function(){this.visitorId(),this.getDevice()},methods:{addDevice:function(){var e=this,data={fingerprint:e.fingerprint,platform:"web"};e.isInAsyncCall=!0,this.$axios.post("user-devices",data).then((function(t){console.log(t),"true"==t.data.status&&e.$store.commit("device/addCurrentDevice"),t.data.hasOwnProperty("message")&&e.getmessage(t.data.message)})).catch((function(t){console.log(t),t.response.data.hasOwnProperty("message")&&"DEVICE_ALREADY_ADDED"==t.response.data.message&&e.$store.commit("device/addCurrentDevice"),t.response.data.hasOwnProperty("message")&&e.getmessage(t.response.data.message),t.response.data.hasOwnProperty("errors")&&(this.serverErrors=Object.entries(t.response.data.errors))})).finally((function(){e.isInAsyncCall=!1}))},getDevice:function(){var e=this,t=this;t.isInAsyncCall=!0,this.$axios.get("user-devices").then((function(o){(console.log(o),e.deviceResponse=o.data,o.data.devices)&&(null!=o.data.devices.find((function(e){return e.fingerprint==t.fingerprint}))?(t.isInSavedDevice=!0,t.$store.commit("device/addCurrentDevice")):t.isInSavedDevice=!1);o.data.hasOwnProperty("message")&&e.getmessage(o.data.message)})).catch((function(e){console.log(e),e.response.data.hasOwnProperty("message")&&this.getmessage(e.response.data.message),e.response.data.hasOwnProperty("errors")&&(this.serverErrors=Object.entries(e.response.data.errors))})).finally((function(){t.isInAsyncCall=!1}))},addGuest:function(){this.$store.commit("device/addGuest")},removeGuest:function(){this.$store.commit("device/removeGuestDevice")},visitorId:function(){console.log("Visitor Id called");var e=localStorage.getItem("deviceId_alt");if(e)this.fingerprint=e;else{var t=(new n.ClientJS).getFingerprint();this.fingerprint=t,localStorage.removeItem("deviceId"),localStorage.setItem("deviceId_alt",t)}},removeDevice:function(e){var t=this;if(confirm("Are you sure ?")){var o=this;o.isInAsyncCall=!0,this.$axios.delete("user-devices/".concat(e)).then((function(e){console.log(e),"true"==e.data.status&&(t.getDevice(),o.$store.commit("device/removeCurrentDevice")),e.data.hasOwnProperty("message")&&t.getmessage(e.data.message)})).catch((function(e){console.log(e),e.response.data.hasOwnProperty("message")&&this.getmessage(e.response.data.message),e.response.data.hasOwnProperty("errors")&&(this.serverErrors=Object.entries(e.response.data.errors))})).finally((function(){o.isInAsyncCall=!1}))}}}},c=(o(598),o(35)),component=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",[t("CustomHeader",{attrs:{title:"Device check"}}),e._v(" "),t("b-container",[e.isInAsyncCall?[t("b-row",{staticClass:"my-5"},[t("b-col",[t("loading")],1)],1)]:[t("b-row",{staticClass:"my-3 text-center"},[t("b-col",[t("b-alert",{attrs:{show:"",variant:"danger"}},[e._v("Attention !! This device is not in your saved device")]),e._v(" "),t("h4",{staticClass:"my-3"},[e._v("For regular use")]),e._v(" "),t("b-button",{attrs:{variant:"danger"},on:{click:e.addDevice}},[e._v("Add to saved devices")]),e._v(" "),t("h4",{staticClass:"my-3"},[e._v("For temporary use")]),e._v(" "),t("b-button",{attrs:{variant:"danger"},on:{click:e.addGuest}},[e._v("Continue as a guest")]),e._v(" "),t("b-alert",{staticClass:"my-3",attrs:{show:"",variant:"info"}},[e._v("If you are using this device frequently and is not in your saved\n            devices lest, your account may get restricted by the system\n            automatically.")]),e._v(" "),t("b-alert",{staticClass:"my-3",attrs:{show:"",variant:"danger"}},[e._v("You can manage your saved devices form your\n            "),t("b-link",{attrs:{to:"/profile"}},[e._v("profile page in\n              "),t("b-badge",{attrs:{variant:"primary"}},[e._v("Saved devices")]),e._v(" tab\n            ")],1)],1)],1)],1),e._v(" "),t("b-row",[e.deviceResponse&&e.deviceResponse.devices.length>0?t("b-list-group",e._l(e.deviceResponse.devices,(function(o){return t("b-list-group-item",{key:o.id,staticClass:"my-3"},[t("b-badge",{attrs:{variant:"primary"}},[e._v(e._s(o.ip_address))]),e._v(" "),t("b-badge",{directives:[{name:"show",rawName:"v-show",value:o.fingerprint==e.fingerprint,expression:"device.fingerprint == fingerprint"}],attrs:{variant:"danger"}},[e._v("This device")]),e._v("\n          "+e._s(o.device)+" "),t("br"),e._v("\n\n          "+e._s(o.location)),t("br"),e._v("\n          Last updated: "+e._s(e.formatDateToString(o.updated_at))),t("br"),e._v(" "),t("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.removeDevice(o.id)}}},[e._v("Remove device")])],1)})),1):t("b-alert",{staticClass:"w-100 mx-auto text-center",attrs:{show:"",variant:"info"}},[e._v("No device registered")])],1)]],2)],1)}),[],!1,null,"1b8a2cf0",null);t.default=component.exports;installComponents(component,{CustomHeader:o(579).default,Loading:o(578).default})},598:function(e,t,o){"use strict";o(591)},599:function(e,t,o){var r=o(63)((function(i){return i[1]}));r.push([e.i,"h4[data-v-1b8a2cf0]{letter-spacing:normal}",""]),r.locals={},e.exports=r},692:function(e,t,o){"use strict";var r=o(10),n=o(200).charAt,l=o(47),c=o(69),d=o(32);r({target:"String",proto:!0,forced:!0},{at:function(e){var t=d(l(this)),o=t.length,r=c(e),v=r>=0?r:o+r;return v<0||v>=o?void 0:n(t,v)}})},791:function(e,t,o){var content=o(1074);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(64).default)("890ab692",content,!0,{sourceMap:!1})},802:function(e,t,o){"use strict";o.r(t);o(24),o(65),o(95);var r=o(36),n=(o(13),o(199),o(15),o(16),o(1),o(692),o(11),o(149),o(578)),l={layout:"content",middleware:"auth",props:{post:{required:!0,type:Object}},head:function(){return{title:"".concat(this.$nuxt.$route.params.dept.toUpperCase(),"::").concat(this.$nuxt.$route.params.levelterm.toUpperCase(),"::").concat(this.$nuxt.$route.params.course.toUpperCase(),"- PL Tutorials")}},data:function(){return{course:null,loading:!1,results:[],parentFolder:this.getFolderIdFromUrl(this.post.link),currentFolder:this.getFolderIdFromUrl(this.post.link),previousFolder:null,folderHistory:[],previousFolderHistory:[],modalContent:null,nextPageToken:null}},computed:{deviceCheck:function(){return this.$store.state.device},breadcrumb:function(){var e="".concat(this.$nuxt.$route.params.dept,"/").concat(this.$nuxt.$route.params.levelterm,"/").concat(this.$nuxt.$route.params.course),t=this.folderHistory.map((function(e){return e.name}));return t.unshift(e),"/".concat(t.join("/"),"/")}},mounted:function(){this.getFolderContentsByFolderId(this.getFolderIdFromUrl(this.post.link))},components:{Loading:n.default},methods:{initFolderQuery:function(){this.getFolderIdFromUrl(this.post.link)},getFolderContentsByFolderId:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;n.loading=!0,fetch("https://www.googleapis.com/drive/v3/files?q='".concat(e,"' in parents&orderBy=folder asc,name&key=AIzaSyDHbDkDUqv39yqYtBI5XD7arA2L8LEzgko&pageToken=").concat(this.nextPageToken?this.nextPageToken:"")).then((function(e){return e.json()})).then((function(data){console.log(data),null!=data.nextPageToken?n.nextPageToken=data.nextPageToken:n.nextPageToken=null,n.results=o?[].concat(Object(r.a)(n.results),Object(r.a)(data.files)):data.files})).catch((function(e){console.log(e),n.nextPageToken=null,n.hasMore=!1})).finally((function(){return t.loading=!1}))},loadMore:function(){null!=this.nextPageToken&&this.getFolderContentsByFolderId(this.currentFolder,!0)},gotoFolder:function(e){var t=arguments.length>2?arguments[2]:void 0,o=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(o.currentFolder=e,o.folderHistory.push({id:e,name:t}),this.getFolderContentsByFolderId(e),o.modalContent=null):(o.modalContent=e,this.$bvModal.show("modal-center"))},goToHomeFolder:function(){this.currentFolder=this.parentFolder,this.folderHistory=[],this.previousFolderHistory=[],this.getFolderContentsByFolderId(this.parentFolder),this.goToPreviousFolder()},goToPreviousFolder:function(){if(this.folderHistory.length>0){var e=this.folderHistory.pop();this.currentFolder=this.folderHistory.length>0?this.folderHistory.at(-1).id:this.parentFolder,this.previousFolderHistory.push(e)}this.getFolderContentsByFolderId(this.folderHistory.length>0?this.folderHistory.at(-1).id:this.parentFolder)},goToNextFolder:function(){if(this.previousFolderHistory.length>0){var e=this.previousFolderHistory.pop();this.currentFolder=this.folderHistory.length>0?this.folderHistory.at(-1).id:this.parentFolder,this.folderHistory.push(e)}this.getFolderContentsByFolderId(this.folderHistory.length>0?this.folderHistory.at(-1).id:this.parentFolder)},getFolderIdFromUrl:function(e){return null!=e.match(/[-\w]{25,}/)?e.match(/[-\w]{25,}/)[0]:null},getIconByMimeType:function(e){var data="file";return e.includes("folder")&&(data="folder"),(e.includes("document")||e.includes("word"))&&(data="file-word"),e.includes("pdf")&&(data="file-pdf"),(e.includes("spreadsheet")||e.includes("excel"))&&(data="file-excel"),(e.includes("presentation")||e.includes("powerpoint"))&&(data="file-powerpoint"),e.includes("audio")&&(data="file-audio"),e.includes("video")&&(data="video"),(e.includes("photo")||e.includes("image"))&&(data="image"),data},handleClick:function(data){this.savePseudoActivity(data.name),window.open("https://drive.google.com/drive/folders/".concat(data.id),"_blank").focus()},openFolder:function(e){this.savePseudoActivity(e==this.parentFolder?this.post.name:this.folderHistory.at(-1).name),window.open("https://drive.google.com/drive/folders/".concat(e),"_blank").focus()},savePseudoActivity:function(e){this.saveActivity({activity:"downloaded",model_type:"post",model_id:this.post.id,causer_id:this.$auth.loggedIn?this.$auth.user.id:0,label:"".concat(e," (").concat(this.breadcrumb,")")})}}},c=l,d=(o(1073),o(35)),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",[e.deviceCheck.hasCheckedDevice?[t("div",{attrs:{fluid:""}},[e.loading?[t("b-row",{staticClass:"my-5"},[t("b-col",[t("loading")],1)],1)]:[t("b-row",[t("b-col",{attrs:{md:"4"}},[t("b-button-group",{attrs:{size:"md"}},[t("b-button",{attrs:{variant:"outline-primary",title:"Go back one page",disabled:0==e.folderHistory.length},on:{click:e.goToPreviousFolder}},[t("font-awesome-icon",{attrs:{icon:["fas","arrow-left"]}})],1),e._v(" "),t("b-button",{attrs:{variant:"outline-primary",title:"Clear history and go to root page"},on:{click:e.goToHomeFolder}},[t("font-awesome-icon",{attrs:{icon:["fas","home"]}})],1),e._v(" "),t("b-button",{attrs:{variant:"outline-primary",title:"Go forward one page",disabled:0==e.previousFolderHistory.length},on:{click:e.goToNextFolder}},[t("font-awesome-icon",{attrs:{icon:["fas","arrow-right"]}})],1)],1)],1),e._v(" "),t("b-col",{staticClass:"text-right"},[t("b-button-group",[t("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return e.openFolder(e.parentFolder)}}},[e._v("download root folder in\n                drive")]),e._v(" "),t("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return e.openFolder(e.currentFolder)}}},[e._v("download this folder in\n                drive")])],1)],1)],1),e._v(" "),e.results?t("b-row",{},[t("b-col",{staticClass:"my-3",attrs:{cols:"12"}},[t("a",{attrs:{href:"#"},on:{click:function(t){return e.openFolder(e.currentFolder)}}},[t("span",{staticClass:"text-dark"},[e._v(e._s(e.breadcrumb))]),e._v(" "),t("font-awesome-icon",{attrs:{icon:["fas","external-link-alt"]}})],1)]),e._v(" "),t("b-col",[e._l(e.results,(function(o){return t("b-list-group",{key:o.id},[t("b-list-group-item",{staticClass:"my-0"},[t("b-row",{attrs:{"no-gutters":""}},[t("b-col",{staticClass:"mx-auto justify-center",attrs:{cols:"1"}},[t("font-awesome-icon",{staticClass:"font-awesome-custom",attrs:{icon:["fas",e.getIconByMimeType(o.mimeType)]}})],1),e._v(" "),t("b-col",[t("a",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.gotoFolder(o.id,"application/vnd.google-apps.folder"==o.mimeType,o.name)}}},[e._v("\n                      "+e._s(o.name)+"\n                    ")])]),e._v(" "),t("b-col",{staticClass:"text-right",attrs:{cols:"4",sm:"2"}},[o.mimeType.includes("folder")?t("b-button",{attrs:{variant:"primary btn-sm"},on:{click:function(t){return e.handleClick(o)}}},[e._v("Open in drive")]):e._e(),e._v(" "),o.mimeType.includes("folder")?e._e():t("a",{attrs:{href:"https://drive.google.com/uc?export=download&id=".concat(o.id),target:"_blank",rel:"noopener noreferrer"}},[t("b-button",{attrs:{variant:"primary",size:"sm"}},[e._v("download")])],1)],1)],1)],1)],1)})),e._v(" "),e.nextPageToken?t("b-list-group-item",{staticClass:"my-0 text-center"},[t("b-col",[t("b-button",{attrs:{size:"md",variant:"outline-primary"},on:{click:e.loadMore}},[e._v("Load next results")])],1)],1):e._e()],2)],1):t("b-row",{staticClass:"mt-5 text-center",attrs:{"align-self":"center"}},[t("b-col",[t("h2",[e._v("No content found.")])])],1)],e._v(" "),t("b-modal",{attrs:{id:"modal-center",centered:"",size:"lg",scrollable:"",title:null!=e.modalContent?e.modalContent.name:"Preview file"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[t("div",{staticClass:"w-100"},[t("b-button",{staticClass:"float-right",attrs:{variant:"primary",size:"md"},on:{click:function(t){return e.$bvModal.hide("modal-center")}}},[e._v("\n              Close\n            ")]),e._v(" "),t("a",{staticClass:"btn btn-sm",attrs:{href:"https://drive.google.com/uc?export=download&id="+e.modalContent,target:"_blank",rel:"noopener noreferrer"}},[t("b-button",{attrs:{variant:"primary",size:"md"}},[e._v("download")])],1),e._v(" "),t("a",{staticClass:"btn btn-sm",attrs:{href:"https://drive.google.com/file/d/"+e.modalContent,target:"_blank",rel:"noopener noreferrer"}},[t("b-button",{attrs:{variant:"primary",size:"md"}},[e._v("Open in drive")])],1)],1)]},proxy:!0}])},[null!=e.modalContent?t("b-col",[t("iframe",{staticClass:"w-100 h-100",staticStyle:{"min-height":"60vh",height:"70vh"},attrs:{src:"https://drive.google.com/file/d/"+e.modalContent+"/preview",frameborder:"0"}})]):t("b-col",[e._v("Please select a file to preview")])],1)],2)]:[t("Devicecheck")]],2)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Devicecheck:o(596).default,Loading:o(578).default})}}]);