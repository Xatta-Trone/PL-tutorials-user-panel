(window.webpackJsonp=window.webpackJsonp||[]).push([[35,12,13,15,19],{1048:function(e,t,r){"use strict";r.r(t);r(73),r(86),r(16),r(2),r(1),r(11),r(24),r(39),r(108);var n=r(842),o=r(747),c={layout:"content",middleware:"auth",components:{QrcodeVue:n.a,ChangePassword:o.default},head:function(){return{title:"Profile - PL Tutorials"}},data:function(){return{appUrl:"https://play.google.com/store/apps/details?id=com.pltutorials.plandroid",columns:["id","activity","label","created_at"],options:{perPage:10,perPageValues:[5,10,15,25,50,100],pagination:{chunk:5},orderBy:{ascending:!1},headings:{id:"#",created_at:"Date",activity:"Activity type",label:"Activity"},requestFunction:function(data){var e=this;return this.$axios.get(this.url,{params:data}).catch((function(t){console.log("Err in datatble",t),e.getmessage("Err in datatble")}))}}}},methods:{getSearchString:function(e){var t,r;if(console.log(e),console.log("!search.includes",!e.includes("q=")),!e.includes("q="))return e;var n=e.split(",").filter(Boolean).map((function(e){return e.trim()})),q=n.find((function(e){return e.includes("q")})).split("=")[1],o=n.find((function(e){return e.includes("dept")})).split("=")[1],c=n.find((function(e){return e.includes("l_t")})).split("=")[1],l=n.find((function(e){return e.includes("content_type")})).split("=")[1],d=null===(t=n.find((function(e){return e.includes("course_slug")})))||void 0===t?void 0:t.split("=")[1],v=null===(r=n.find((function(e){return e.includes("course_title")})))||void 0===r?void 0:r.split("=")[1];console.log(n,q,o,c,d,v);var f="Searched";return""!==q&&(f+=" for "+q),f+=" ".concat(this.getDeptString(o,c,d,v)),l&&(f+=" :: content type: ".concat(l,".")),f},getDeptString:function(e,t,r,n){console.log(e,t,r,n);var o="";return e.length>0&&(o+="".concat(e)),t.length>0&&(o+="/".concat(t)),null!=r&&(o+="/".concat(r)),o=o.toUpperCase(),null!=n&&(o+=" ".concat(n)),o}}},l=r(29),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("CustomHeader",{attrs:{title:e.$auth.user.name,subtitle:"#"+e.$auth.user.student_id}}),e._v(" "),n("b-container",[n("b-row",[n("b-col",{attrs:{sm:"12"}},[n("div",{staticClass:"my-5"},[n("b-tabs",{attrs:{"content-class":"mt-3",justified:"",pills:""}},[n("b-tab",{attrs:{title:"Info",active:""}},[n("b-row",[n("b-col",[n("b-alert",{attrs:{show:"",variant:"primary"}},[n("strong",[e._v("Please refrain from sharing your account with others.")]),e._v(" "),n("br"),e._v("  Such activity may lead to permanent account suspension. The website constantly monitors all activities to prevent account sharing. You can see your activities from the "),n("strong",[e._v("Activity")]),e._v(" tab.")])],1)],1),e._v(" "),n("b-row",[n("b-col",{attrs:{sm:"6"}},[n("b-list-group",[n("b-list-group-item",[n("b",[e._v("Name:")]),e._v(" "+e._s(e.$auth.user.name))]),e._v(" "),n("b-list-group-item",[n("b",[e._v("Student ID:")]),e._v(" #"+e._s(e.$auth.user.student_id))]),e._v(" "),n("b-list-group-item",[n("b",[e._v("E-mail:")]),e._v("\n                      "+e._s(e.$auth.user.email))]),e._v(" "),n("b-list-group-item",[n("b",[e._v("User Letter:")]),e._v("\n                      "+e._s(e.$auth.user.user_letter))]),e._v(" "),n("b-list-group-item",[n("b",[e._v("Joined on:")]),e._v("\n                      "+e._s(e.formatDateToString(e.$auth.user.created_at)))])],1)],1),e._v(" "),n("b-col",{attrs:{sm:"6"}},[n("div",{staticClass:"text-center my-3"},[n("p",[e._v("\n                      Scan or click the link below to install our\n                      Android app.\n                    ")]),e._v(" "),n("qrcode-vue",{attrs:{value:e.appUrl,size:"150",level:"H",margin:"2"}}),e._v(" "),n("a",{attrs:{href:e.appUrl,target:"_blank"}},[n("img",{attrs:{src:r(614),height:"110"}})])],1)])],1)],1),e._v(" "),n("b-tab",{attrs:{title:"Change password",lazy:""}},[n("change-password")],1),e._v(" "),n("b-tab",{attrs:{title:"Activity",lazy:""}},[n("v-server-table",{attrs:{url:"user-activity",columns:e.columns,options:e.options},scopedSlots:e._u([{key:"created_at",fn:function(t){var r=t.row;return n("div",{staticClass:"d-flex justify-content-around"},[e._v("\n                  "+e._s(e.formatDateToString(r.created_at))+"\n                ")])}},{key:"id",fn:function(t){var r=t.row;return n("div",{},[e._v("\n                  "+e._s(e.hashCode(r.id.toString()))+"\n                ")])}},{key:"label",fn:function(t){var r=t.row;return n("div",{},["searched"==r.activity?n("div",[e._v(e._s(e.getSearchString(r.label)))]):e._e(),e._v(" "),"searched"!=r.activity?n("div",[e._v(e._s(r.label))]):e._e()])}}])})],1),e._v(" "),n("b-tab",{attrs:{title:"Devices",lazy:""}},[n("LoginHistory")],1),e._v(" "),n("b-tab",{attrs:{title:"Saved Devices",lazy:""}},[n("saved-devices")],1)],1)],1)])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CustomHeader:r(529).default,LoginHistory:r(748).default,SavedDevices:r(749).default})},527:function(e,t,r){var content=r(533);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(60).default)("fa6bab82",content,!0,{sourceMap:!1})},528:function(e,t,r){"use strict";r.r(t);var n={components:{CubeShadow:r(545).a}},o=(r(537),r(29)),component=Object(o.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("CubeShadow",{staticClass:"mx-auto",attrs:{color:"#17a2b8"}})}),[],!1,null,"1b6dfe3d",null);t.default=component.exports},529:function(e,t,r){"use strict";r.r(t);var n={props:{title:{default:"",type:String},subtitle:{default:null,type:String}}},o=(r(532),r(29)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"section_padding hero_title_section"},[r("b-container",{attrs:{fluid:""}},[r("b-row",{staticClass:"text-center tr-bg"},[r("b-col",{staticClass:"header-div"},[r("h3",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"title"}]},[e._v(e._s(e.title.toUpperCase()))]),e._v(" "),r("span"),e._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:e.subtitle,expression:"subtitle"}]},[e._v(e._s(e.subtitle))])])],1)],1)],1)}),[],!1,null,"34911b7e",null);t.default=component.exports},530:function(e,t,r){var content=r(538);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(60).default)("055e323c",content,!0,{sourceMap:!1})},532:function(e,t,r){"use strict";r(527)},533:function(e,t,r){var n=r(59),o=r(531),c=r(534),l=r(535),d=n(!1),v=o(c),f=o(l);d.push([e.i,".hero_title_section[data-v-34911b7e]{background-image:url("+v+");background-size:cover;background-position:bottom;background-attachment:fixed;background-color:#333;position:relative}body.dark-mode .hero_title_section[data-v-34911b7e]{background-image:url("+f+')}.hero_title_section[data-v-34911b7e]:before{position:absolute;left:0;top:0;width:100%;height:100%;content:"";background:#000;opacity:.6}.hero_title_section[data-v-34911b7e]{font-size:30px;padding:150px 0 100px;color:#fff;text-transform:uppercase}.hero_title_section h3[data-v-34911b7e]{font-size:50px;line-height:50px;margin:0}.hero_title_section span[data-v-34911b7e]{display:inline-block;height:5px;width:45%;background:#17a2b8;margin:0 0 10px;border-radius:3px}.hero_title_section p[data-v-34911b7e]{margin:0}.section_padding[data-v-34911b7e]{padding:150px 0 100px}',""]),e.exports=d},534:function(e,t,r){e.exports=r.p+"img/pencil.135d51e.jpg"},535:function(e,t,r){e.exports=r.p+"img/dark-bg4.406e3d0.jpg"},537:function(e,t,r){"use strict";r(530)},538:function(e,t,r){var n=r(59)(!1);n.push([e.i,".spinner.spinner--cube-shadow[data-v-1b6dfe3d]{background-color:#17a2b8!important}",""]),e.exports=n},575:function(e,t,r){"use strict";r.r(t);var n={props:["servererrors","chkkey"]},o=r(29),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",e._l(e.servererrors,(function(t,i){return r("span",{key:i},[r("span",{directives:[{name:"show",rawName:"v-show",value:t[0]==e.chkkey,expression:"error[0] == chkkey"}],staticClass:"text-danger"},[e._v("\n      "+e._s(t[1].join(",")))])])})),0)}),[],!1,null,null,null);t.default=component.exports},614:function(e,t,r){e.exports=r.p+"img/googleplay.f902960.png"},747:function(e,t,r){"use strict";r.r(t);r(278);var n=r(575),o=r(546),c={layout:"content",components:{CustomError:n.default},data:function(){return{form:{old_password:"",password:"",password_confirmation:""},btntxt:"Change password",loading:!1}},mounted:function(){},methods:{submit:function(){var e=this;if(this.loading=!0,console.log("submit!"),this.$v.$touch(),this.serverErrors=[],this.$v.$invalid)return this.loading=!1,this.$toast.error("Fill-up the required fields!!");var t=this;this.$axios.post("reset-user-password",this.form).then((function(r){t.loading=!1,console.log(r),r.data.hasOwnProperty("message")&&e.getmessage(r.data.message),e.$v.$reset(),e.form.password_confirmation="",e.form.password="",e.form.old_password="",r.data.hasKey("status")&&e.getmessage()})).catch((function(r){t.loading=!1,console.log("Errrr",r),r.response.data.hasOwnProperty("message")&&e.getmessage(r.response.data.message),r.response.data.hasOwnProperty("errors")&&(e.serverErrors=Object.entries(r.response.data.errors))}))}},validations:{form:{old_password:{required:o.required},password:{required:o.required,minLength:Object(o.minLength)(8)},password_confirmation:{sameAsPassword:Object(o.sameAs)("password")}}}},l=r(29),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-row",{staticClass:"text-left py-1 my-5"},[r("b-col",{attrs:{sm:"12"}},[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[r("b-form-group",{attrs:{id:"input-group-1",label:"Old password ::","label-for":"input-1"}},[r("b-form-input",{attrs:{id:"input-1",type:"password",placeholder:"Old password"},model:{value:e.form.old_password,callback:function(t){e.$set(e.form,"old_password",t)},expression:"form.old_password"}}),e._v(" "),r("b-form-invalid-feedback",{attrs:{state:!e.$v.form.old_password.$error}},[e._v("\n            Old password is required.\n          ")]),e._v(" "),r("custom-error",{attrs:{servererrors:e.serverErrors,chkkey:"old_password"}})],1),e._v(" "),r("b-form-group",{attrs:{id:"input-group-2",label:"New password ::","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"input-2",type:"password",placeholder:"New password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),r("b-form-invalid-feedback",{attrs:{state:!e.$v.form.password.$error}},[e._v("\n            New password is required & must be minimum 8 characters.\n          ")]),e._v(" "),r("custom-error",{attrs:{servererrors:e.serverErrors,chkkey:"password"}})],1),e._v(" "),r("b-form-group",{attrs:{id:"input-group-3",label:"Retype new password ::","label-for":"input-3"}},[r("b-form-input",{attrs:{id:"input-3",type:"password",placeholder:"Retype new password"},model:{value:e.form.password_confirmation,callback:function(t){e.$set(e.form,"password_confirmation",t)},expression:"form.password_confirmation"}}),e._v(" "),r("b-form-invalid-feedback",{attrs:{state:!e.$v.form.password_confirmation.$error}},[e._v("\n            Passwords do not match.\n          ")]),e._v(" "),r("custom-error",{attrs:{servererrors:e.serverErrors,chkkey:"password_confirmation"}})],1),e._v(" "),r("b-button",{staticClass:"text-white w-100",attrs:{type:"submit",variant:"primary",disabled:e.loading}},[e._v(e._s(e.btntxt))])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},748:function(e,t,r){"use strict";r.r(t);var n={data:function(){return{columns:["id","user_ip","location","device","updated_at"],options:{perPage:10,perPageValues:[5,10,15,25,50,100],pagination:{chunk:5},orderBy:{ascending:!1},headings:{id:"#",updated_at:"Last Active",user_ip:"IP Address"},requestFunction:function(data){var e=this;return this.$axios.get(this.url,{params:data}).catch((function(t){console.log("Err in datatble",t),e.getmessage("Err in datatble")}))}}}}},o=r(29),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-server-table",{attrs:{url:"user-logins",columns:e.columns,options:e.options},scopedSlots:e._u([{key:"updated_at",fn:function(t){var n=t.row;return r("div",{staticClass:"d-flex justify-content-around"},[e._v("\n    "+e._s(e.formatDateToString(n.updated_at))+"\n  ")])}},{key:"id",fn:function(t){var n=t.row;return r("div",{},[e._v("\n    "+e._s(e.hashCode(n.id.toString()))+"\n  ")])}}])})}),[],!1,null,null,null);t.default=component.exports},749:function(e,t,r){"use strict";r.r(t);var n=r(23),o=(r(61),r(1),r(108),r(278),r(577)),c={data:function(){return{deviceResponse:null,fingerprint:null,isInSavedDevice:!1,isInAsyncCall:!1}},computed:{deviceCheck:function(){return this.$store.state.device}},mounted:function(){this.visitorId(),this.getDevice()},methods:{getDevice:function(){var e=this,t=this;t.isInAsyncCall=!0,this.$axios.get("user-devices").then((function(r){(console.log(r),e.deviceResponse=r.data,r.data.devices)&&(null!=r.data.devices.find((function(e){return e.fingerprint==t.fingerprint}))?(t.isInSavedDevice=!0,t.$store.commit("device/addCurrentDevice")):t.isInSavedDevice=!1);r.data.hasOwnProperty("message")&&e.getmessage(r.data.message)})).catch((function(e){console.log(e),e.response.data.hasOwnProperty("message")&&this.getmessage(e.response.data.message),e.response.data.hasOwnProperty("errors")&&(this.serverErrors=Object.entries(e.response.data.errors))})).finally((function(){t.isInAsyncCall=!1}))},addDevice:function(){var e=this,t=this,data={fingerprint:t.fingerprint,platform:"web"};t.isInAsyncCall=!0,this.$axios.post("user-devices",data).then((function(r){console.log(r),"true"==r.data.status&&e.getDevice(),r.data.hasOwnProperty("message")&&t.getmessage(r.data.message)})).catch((function(e){console.log(e),e.response.data.hasOwnProperty("message")&&"DEVICE_ALREADY_ADDED"==e.response.data.message&&t.$store.commit("device/addCurrentDevice"),e.response.data.hasOwnProperty("message")&&t.getmessage(e.response.data.message),e.response.data.hasOwnProperty("errors")&&(this.serverErrors=Object.entries(e.response.data.errors))})).finally((function(){t.isInAsyncCall=!1}))},removeDevice:function(e){var t=this;if(confirm("Are you sure ?")){var r=this;r.isInAsyncCall=!0,this.$axios.delete("user-devices/".concat(e)).then((function(e){console.log(e),"true"==e.data.status&&(t.getDevice(),r.$store.commit("device/removeCurrentDevice")),e.data.hasOwnProperty("message")&&t.getmessage(e.data.message)})).catch((function(e){console.log(e),e.response.data.hasOwnProperty("message")&&this.getmessage(e.response.data.message),e.response.data.hasOwnProperty("errors")&&(this.serverErrors=Object.entries(e.response.data.errors))})).finally((function(){r.isInAsyncCall=!1}))}},addGuest:function(){this.$store.commit("device/addGuest")},removeGuest:function(){this.$store.commit("device/removeGuestDevice")},visitorId:function(){console.log("Visitor Id called");var e=this,t=null,r=localStorage.getItem("deviceId");if(r)e.fingerprint=r;else{var c=o.a.load();Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c;case 2:return n=r.sent,r.next=5,n.get();case 5:o=r.sent,l=o.visitorId,t=l,e.fingerprint=t,localStorage.setItem("deviceId",l);case 10:case"end":return r.stop()}}),r)})))()}}}},l=r(29),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-row",[r("b-alert",{staticClass:"w-100",attrs:{show:"",variant:"secondary"}},[e._v("\n      You can manage your regular devices from here.\n    ")]),e._v(" "),r("b-alert",{staticClass:"w-100",attrs:{show:e.deviceCheck.isGuest,variant:"danger"}},[e._v("You are using this device as guest. If you wish to use this device\n      regularly then please add this device in the saved device list")]),e._v(" "),e.deviceResponse?r("h3",{staticClass:"text-center w-100"},[e._v("\n      Max allowed device: "+e._s(e.deviceResponse.max_allowed_device)+"\n    ")]):e._e(),e._v(" "),r("hr")],1),e._v(" "),e.isInAsyncCall?[r("b-row",{staticClass:"my-5"},[r("b-col",[r("loading")],1)],1)]:[r("b-row",[e.deviceResponse&&e.deviceResponse.devices.length>0?r("b-list-group",e._l(e.deviceResponse.devices,(function(t){return r("b-list-group-item",{key:t.id,staticClass:"my-3"},[r("b-badge",{attrs:{variant:"primary"}},[e._v(e._s(t.ip_address))]),e._v(" "),r("b-badge",{directives:[{name:"show",rawName:"v-show",value:t.fingerprint==e.fingerprint,expression:"device.fingerprint == fingerprint"}],attrs:{variant:"danger"}},[e._v("This device")]),e._v("\n          "+e._s(t.device)+" "),r("br"),e._v("\n\n          "+e._s(t.location)),r("br"),e._v("\n          Last updated: "+e._s(e.formatDateToString(t.updated_at))),r("br"),e._v(" "),r("b-button",{attrs:{variant:"danger"},on:{click:function(r){return e.removeDevice(t.id)}}},[e._v("Remove device")])],1)})),1):r("b-alert",{staticClass:"w-100 mx-auto text-center",attrs:{show:"",variant:"info"}},[e._v("No device registered")])],1),e._v(" "),e.isInSavedDevice?e._e():r("b-row",{staticClass:"my-3"},[r("b-button",{attrs:{disabled:e.isInAsyncCall,variant:"primary"},on:{click:e.addDevice}},[e._v("Add this device")])],1)],e._v(" "),r("b-row",{staticClass:"my-3"},[e.deviceCheck.isGuest||e.deviceCheck.hasCheckedDevice?e._e():r("b-button",{attrs:{variant:"primary"},on:{click:e.addGuest}},[e._v("Use as guest")]),e._v(" "),e.deviceCheck.isGuest?r("b-button",{attrs:{variant:"danger"},on:{click:e.removeGuest}},[e._v("Remove as guest")]):e._e()],1)],2)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Loading:r(528).default})}}]);