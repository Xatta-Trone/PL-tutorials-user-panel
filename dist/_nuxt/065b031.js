(window.webpackJsonp=window.webpackJsonp||[]).push([[27,8,10,13],{1021:function(e,t,r){"use strict";var o=r(12),n=r(179).charAt,l=r(13),c=r(45),d=r(69),v=r(31);o({target:"String",proto:!0,forced:l((function(){return"𠮷"!=="𠮷".at(-2)}))},{at:function(e){var t=v(c(this)),r=t.length,o=d(e),l=o>=0?o:r+o;return l<0||l>=r?void 0:n(t,l)}})},1022:function(e,t,r){"use strict";r(742)},1023:function(e,t,r){var o=r(59)(!1);o.push([e.i,".card-title{text-overflow:ellipsis!important;overflow:hidden}.font-awesome-custom{font-size:2rem;color:#17a2b8}",""]),e.exports=o},1059:function(e,t,r){"use strict";r.r(t);r(14),r(1),r(1021),r(73),r(86),r(20),r(178);var o={layout:"content",middleware:"auth",head:function(){return{title:"".concat(this.$nuxt.$route.params.dept.toUpperCase(),"::").concat(this.$nuxt.$route.params.levelterm.toUpperCase(),"::").concat(this.$nuxt.$route.params.course.toUpperCase(),"- PL Tutorials")}},data:function(){return{course:null,loading:!1,results:[],parentFolder:$nuxt.$route.params.gdrive,currentFolder:$nuxt.$route.params.gdrive,previousFolder:null,folderHistory:[],modalContent:null}},computed:{deviceCheck:function(){return this.$store.state.device}},mounted:function(){this.getFolderContentsByFolderId($nuxt.$route.params.gdrive),this.folderHistory.push($nuxt.$route.params.gdrive),console.log(this.$nuxt.$route)},components:{Loading:r(529).default},methods:{getFolderContentsByFolderId:function(e){var t=this,r=this;r.loading=!0,fetch("https://www.googleapis.com/drive/v3/files?q='".concat(e,"' in parents&orderBy=folder,name&key=AIzaSyDHbDkDUqv39yqYtBI5XD7arA2L8LEzgko")).then((function(e){return e.json()})).then((function(data){console.log(data),r.results=data.files})).catch((function(e){return console.log(e)})).finally((function(){return t.loading=!1}))},gotoFolder:function(e){var t=this;"application/vnd.google-apps.folder"==e.mimeType?(t.previousFolder=t.currentFolder,t.currentFolder=e.id,t.folderHistory.push(e.id),this.getFolderContentsByFolderId(e.id),t.modalContent=null):(t.modalContent=e,this.$bvModal.show("modal-center"))},goToHomeFolder:function(){var e=this;e.previousFolder=null,e.currentFolder=e.parentFolder,e.folderHistory=[],this.getFolderContentsByFolderId(e.parentFolder)},goToPreviousFolder:function(){var e=this;e.folderHistory.length>0&&e.folderHistory.pop(),e.folderHistory.length>1?(e.currentFolder=e.folderHistory.at(-1),e.previousFolder=e.folderHistory.at(-2)):1==e.folderHistory.length?(e.currentFolder=e.folderHistory.at(-1),e.previousFolder=null):e.previousFolder=null,this.getFolderContentsByFolderId(e.currentFolder)},getIconByMimeType:function(e){var data="file";return e.includes("folder")&&(data="folder"),(e.includes("document")||e.includes("word"))&&(data="file-word"),e.includes("pdf")&&(data="file-pdf"),(e.includes("spreadsheet")||e.includes("excel"))&&(data="file-excel"),(e.includes("presentation")||e.includes("powerpoint"))&&(data="file-powerpoint"),e.includes("audio")&&(data="file-audio"),e.includes("video")&&(data="video"),(e.includes("photo")||e.includes("image"))&&(data="image"),data},handleClick:function(data){this.saveActivity({activity:"downloaded",model_type:data.post_type,model_id:data.id,causer_id:this.$auth.loggedIn?this.$auth.user.id:0,label:data.name,additionalData:"".concat(this.$nuxt.$route.params.dept,"/").concat(this.$nuxt.$route.params.levelterm,"/").concat(this.$nuxt.$route.params.course)}),window.open(data.link,"_blank").focus()}}},n=(r(1022),r(29)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.deviceCheck.hasCheckedDevice?[r("CustomHeader",{attrs:{title:e.$nuxt.$route.params.course,subtitle:e.course?e.course.course_name:"Drive files"}}),e._v(" "),r("b-container",[e.loading?[r("b-row",{staticClass:"my-5"},[r("b-col",[r("loading")],1)],1)]:[e.results?r("b-row",{staticClass:"my-4"},[r("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[r("b-button-group",[r("b-button",{directives:[{name:"show",rawName:"v-show",value:e.parentFolder!=e.currentFolder,expression:"parentFolder != currentFolder"}],on:{click:e.goToHomeFolder}},[e._v("Home folder")]),e._v(" "),r("b-button",{directives:[{name:"show",rawName:"v-show",value:e.previousFolder,expression:"previousFolder"}],on:{click:e.goToPreviousFolder}},[e._v("Previous folder")]),e._v(" "),r("b-button",{attrs:{href:"https://drive.google.com/drive/folders/"+e.parentFolder,target:"_blank"}},[e._v("Open home folder in drive")]),e._v(" "),r("b-button",{attrs:{href:"https://drive.google.com/drive/folders/"+e.currentFolder,target:"_blank"}},[e._v("Open current folder in drive")])],1)],1),e._v(" "),r("b-col",e._l(e.results,(function(t){return r("b-list-group",{key:t.id},[r("b-list-group-item",[r("b-row",{attrs:{"no-gutters":""}},[r("b-col",{staticClass:"mx-auto justify-center",attrs:{cols:"1"}},[r("font-awesome-icon",{staticClass:"font-awesome-custom",attrs:{icon:["fas",e.getIconByMimeType(t.mimeType)]}})],1),e._v(" "),r("b-col",[r("a",{staticStyle:{cursor:"pointer"},on:{click:function(r){return e.gotoFolder(t)}}},[e._v("\n                      "+e._s(t.name)+"\n                    ")])]),e._v(" "),r("b-col",{staticClass:"text-center",attrs:{cols:"4",sm:"1"}},[t.mimeType.includes("folder")?e._e():r("a",{staticClass:"btn btn-sm",attrs:{href:"https://drive.google.com/uc?export=download&id="+t.id,target:"_blank",rel:"noopener noreferrer"}},[r("b-button",{attrs:{variant:"primary",size:"sm"}},[e._v("download")])],1)])],1)],1)],1)})),1),e._v(" "),r("b-col",{staticClass:"mt-3",attrs:{cols:"12"}},[r("b-button-group",[r("b-button",{directives:[{name:"show",rawName:"v-show",value:e.parentFolder!=e.currentFolder,expression:"parentFolder != currentFolder"}],on:{click:e.goToHomeFolder}},[e._v("Home folder")]),e._v(" "),r("b-button",{directives:[{name:"show",rawName:"v-show",value:e.previousFolder,expression:"previousFolder"}],on:{click:e.goToPreviousFolder}},[e._v("Previous folder")]),e._v(" "),r("b-button",{attrs:{href:"https://drive.google.com/drive/folders/"+e.parentFolder,target:"_blank"}},[e._v("Open home folder in drive")]),e._v(" "),r("b-button",{attrs:{href:"https://drive.google.com/drive/folders/"+e.currentFolder,target:"_blank"}},[e._v("Open current folder in drive")])],1)],1)],1):r("b-row",{staticClass:"mt-5 text-center",attrs:{"align-self":"center"}},[r("b-col",[r("h2",[e._v("No content found.")])])],1)],e._v(" "),r("b-modal",{attrs:{id:"modal-center",centered:"",size:"lg",scrollable:"",title:null!=e.modalContent?e.modalContent.name:"Preview file"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[r("div",{staticClass:"w-100"},[r("b-button",{staticClass:"float-right",attrs:{variant:"primary",size:"md"},on:{click:function(t){return e.$bvModal.hide("modal-center")}}},[e._v("\n              Close\n            ")]),e._v(" "),r("a",{staticClass:"btn btn-sm",attrs:{href:"https://drive.google.com/uc?export=download&id="+e.modalContent.id,target:"_blank",rel:"noopener noreferrer"}},[r("b-button",{attrs:{variant:"primary",size:"md"}},[e._v("download")])],1),e._v(" "),r("a",{staticClass:"btn btn-sm",attrs:{href:"https://drive.google.com/file/d/"+e.modalContent.id,target:"_blank",rel:"noopener noreferrer"}},[r("b-button",{attrs:{variant:"primary",size:"md"}},[e._v("Open in drive")])],1)],1)]},proxy:!0}])},[null!=e.modalContent?r("b-col",[r("iframe",{staticClass:"w-100 h-100",staticStyle:{"min-height":"60vh",height:"70vh"},attrs:{src:"https://drive.google.com/file/d/"+e.modalContent.id+"/preview",frameborder:"0"}})]):r("b-col",[e._v("Please select a file to preview")])],1)],2)]:[r("Devicecheck")]],2)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Devicecheck:r(550).default,CustomHeader:r(530).default,Loading:r(529).default})},528:function(e,t,r){var content=r(534);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(60).default)("fa6bab82",content,!0,{sourceMap:!1})},529:function(e,t,r){"use strict";r.r(t);var o={components:{CubeShadow:r(546).a}},n=(r(538),r(29)),component=Object(n.a)(o,(function(){var e=this.$createElement;return(this._self._c||e)("CubeShadow",{staticClass:"mx-auto",attrs:{color:"#17a2b8"}})}),[],!1,null,"1b6dfe3d",null);t.default=component.exports},530:function(e,t,r){"use strict";r.r(t);var o={props:{title:{default:"",type:String},subtitle:{default:null,type:String}}},n=(r(533),r(29)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"section_padding hero_title_section"},[r("b-container",{attrs:{fluid:""}},[r("b-row",{staticClass:"text-center tr-bg"},[r("b-col",{staticClass:"header-div"},[r("h3",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"title"}]},[e._v(e._s(e.title.toUpperCase()))]),e._v(" "),r("span"),e._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:e.subtitle,expression:"subtitle"}]},[e._v(e._s(e.subtitle))])])],1)],1)],1)}),[],!1,null,"34911b7e",null);t.default=component.exports},531:function(e,t,r){var content=r(539);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(60).default)("055e323c",content,!0,{sourceMap:!1})},532:function(e,t,r){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},533:function(e,t,r){"use strict";r(528)},534:function(e,t,r){var o=r(59),n=r(532),l=r(535),c=r(536),d=o(!1),v=n(l),f=n(c);d.push([e.i,".hero_title_section[data-v-34911b7e]{background-image:url("+v+");background-size:cover;background-position:bottom;background-attachment:fixed;background-color:#333;position:relative}body.dark-mode .hero_title_section[data-v-34911b7e]{background-image:url("+f+')}.hero_title_section[data-v-34911b7e]:before{position:absolute;left:0;top:0;width:100%;height:100%;content:"";background:#000;opacity:.6}.hero_title_section[data-v-34911b7e]{font-size:30px;padding:150px 0 100px;color:#fff;text-transform:uppercase}.hero_title_section h3[data-v-34911b7e]{font-size:50px;line-height:50px;margin:0}.hero_title_section span[data-v-34911b7e]{display:inline-block;height:5px;width:45%;background:#17a2b8;margin:0 0 10px;border-radius:3px}.hero_title_section p[data-v-34911b7e]{margin:0}.section_padding[data-v-34911b7e]{padding:150px 0 100px}',""]),e.exports=d},535:function(e,t,r){e.exports=r.p+"img/pencil.135d51e.jpg"},536:function(e,t,r){e.exports=r.p+"img/dark-bg4.406e3d0.jpg"},538:function(e,t,r){"use strict";r(531)},539:function(e,t,r){var o=r(59)(!1);o.push([e.i,".spinner.spinner--cube-shadow[data-v-1b6dfe3d]{background-color:#17a2b8!important}",""]),e.exports=o},542:function(e,t,r){var content=r(549);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(60).default)("6d2b68ee",content,!0,{sourceMap:!1})},548:function(e,t,r){"use strict";r(542)},549:function(e,t,r){var o=r(59)(!1);o.push([e.i,"h4[data-v-2d48b486]{letter-spacing:normal}",""]),e.exports=o},550:function(e,t,r){"use strict";r.r(t);var o=r(23),n=(r(61),r(1),r(278),r(108),r(529)),l=r(578),c={layout:"content",middleware:"auth",beforeRouteEnter:function(e,t,r){r((function(e){console.log("router guard",t),r()}))},data:function(){return{deviceResponse:null,fingerprint:null,isInSavedDevice:!1,isInAsyncCall:!1}},components:{Loading:n.default},mounted:function(){this.visitorId(),this.getDevice()},methods:{addDevice:function(){var e=this,data={fingerprint:e.fingerprint,platform:"web"};e.isInAsyncCall=!0,this.$axios.post("user-devices",data).then((function(t){console.log(t),"true"==t.data.status&&e.$store.commit("device/addCurrentDevice"),t.data.hasOwnProperty("message")&&e.getmessage(t.data.message)})).catch((function(t){console.log(t),t.response.data.hasOwnProperty("message")&&"DEVICE_ALREADY_ADDED"==t.response.data.message&&e.$store.commit("device/addCurrentDevice"),t.response.data.hasOwnProperty("message")&&e.getmessage(t.response.data.message),t.response.data.hasOwnProperty("errors")&&(this.serverErrors=Object.entries(t.response.data.errors))})).finally((function(){e.isInAsyncCall=!1}))},getDevice:function(){var e=this,t=this;t.isInAsyncCall=!0,this.$axios.get("user-devices").then((function(r){(console.log(r),e.deviceResponse=r.data,r.data.devices)&&(null!=r.data.devices.find((function(e){return e.fingerprint==t.fingerprint}))?(t.isInSavedDevice=!0,t.$store.commit("device/addCurrentDevice")):t.isInSavedDevice=!1);r.data.hasOwnProperty("message")&&e.getmessage(r.data.message)})).catch((function(e){console.log(e),e.response.data.hasOwnProperty("message")&&this.getmessage(e.response.data.message),e.response.data.hasOwnProperty("errors")&&(this.serverErrors=Object.entries(e.response.data.errors))})).finally((function(){t.isInAsyncCall=!1}))},addGuest:function(){this.$store.commit("device/addGuest")},removeGuest:function(){this.$store.commit("device/removeGuestDevice")},visitorId:function(){console.log("Visitor Id called");var e=this,t=null,r=localStorage.getItem("deviceId");if(r)e.fingerprint=r;else{var n=l.a.load();Object(o.a)(regeneratorRuntime.mark((function r(){var o,l,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n;case 2:return o=r.sent,r.next=5,o.get();case 5:l=r.sent,c=l.visitorId,t=c,e.fingerprint=t,localStorage.setItem("deviceId",c);case 10:case"end":return r.stop()}}),r)})))()}},removeDevice:function(e){var t=this;if(confirm("Are you sure ?")){var r=this;r.isInAsyncCall=!0,this.$axios.delete("user-devices/".concat(e)).then((function(e){console.log(e),"true"==e.data.status&&(t.getDevice(),r.$store.commit("device/removeCurrentDevice")),e.data.hasOwnProperty("message")&&t.getmessage(e.data.message)})).catch((function(e){console.log(e),e.response.data.hasOwnProperty("message")&&this.getmessage(e.response.data.message),e.response.data.hasOwnProperty("errors")&&(this.serverErrors=Object.entries(e.response.data.errors))})).finally((function(){r.isInAsyncCall=!1}))}}}},d=(r(548),r(29)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("CustomHeader",{attrs:{title:"Device check"}}),e._v(" "),r("b-container",[e.isInAsyncCall?[r("b-row",{staticClass:"my-5"},[r("b-col",[r("loading")],1)],1)]:[r("b-row",{staticClass:"my-3 text-center"},[r("b-col",[r("b-alert",{attrs:{show:"",variant:"danger"}},[e._v("Attention !! This device is not in your saved device")]),e._v(" "),r("h4",{staticClass:"my-3"},[e._v("For regular use")]),e._v(" "),r("b-button",{attrs:{variant:"danger"},on:{click:e.addDevice}},[e._v("Add to saved devices")]),e._v(" "),r("h4",{staticClass:"my-3"},[e._v("For temporary use")]),e._v(" "),r("b-button",{attrs:{variant:"danger"},on:{click:e.addGuest}},[e._v("Continue as a guest")]),e._v(" "),r("b-alert",{staticClass:"my-3",attrs:{show:"",variant:"info"}},[e._v("If you are using this device frequently and is not in your saved\n            devices lest, your account may get restricted by the system\n            automatically.")]),e._v(" "),r("b-alert",{staticClass:"my-3",attrs:{show:"",variant:"danger"}},[e._v("You can manage your saved devices form your\n            "),r("b-link",{attrs:{to:"/profile"}},[e._v("profile page in\n              "),r("b-badge",{attrs:{variant:"primary"}},[e._v("Saved devices")]),e._v(" tab\n            ")],1)],1)],1)],1),e._v(" "),r("b-row",[e.deviceResponse&&e.deviceResponse.devices.length>0?r("b-list-group",e._l(e.deviceResponse.devices,(function(t){return r("b-list-group-item",{key:t.id,staticClass:"my-3"},[r("b-badge",{attrs:{variant:"primary"}},[e._v(e._s(t.ip_address))]),e._v(" "),r("b-badge",{directives:[{name:"show",rawName:"v-show",value:t.fingerprint==e.fingerprint,expression:"device.fingerprint == fingerprint"}],attrs:{variant:"danger"}},[e._v("This device")]),e._v("\n          "+e._s(t.device)+" "),r("br"),e._v("\n\n          "+e._s(t.location)),r("br"),e._v("\n          Last updated: "+e._s(e.formatDateToString(t.updated_at))),r("br"),e._v(" "),r("b-button",{attrs:{variant:"danger"},on:{click:function(r){return e.removeDevice(t.id)}}},[e._v("Remove device")])],1)})),1):r("b-alert",{staticClass:"w-100 mx-auto text-center ",attrs:{show:"",variant:"info"}},[e._v("No device registered")])],1)]],2)],1)}),[],!1,null,"2d48b486",null);t.default=component.exports;installComponents(component,{CustomHeader:r(530).default,Loading:r(529).default})},742:function(e,t,r){var content=r(1023);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(60).default)("73aadc94",content,!0,{sourceMap:!1})}}]);